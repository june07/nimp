_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{IJQT:function(t,e,s){"use strict";s.r(e),function(t){s.d(e,"default",(function(){return N}));var n=s("o0o1"),r=s.n(n),a=s("HaE+"),o=s("1OyB"),c=s("vuIU"),i=s("Ji7U"),u=s("md7G"),p=s("foSv"),l=s("q1tI"),f=s.n(l),h=s("ZMfO"),g=s("8Kt/"),m=s.n(g),d=s("3M1/"),x=f.a.createElement;function j(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,n=Object(p.a)(t);if(e){var r=Object(p.a)(this).constructor;s=Reflect.construct(n,arguments,r)}else s=n.apply(this,arguments);return Object(u.a)(this,s)}}var N=function(e){Object(i.a)(n,e);var s=j(n);function n(){return Object(o.a)(this,n),s.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return x(d.a,null,this.props.graph&&x(m.a,null,x("title",{key:"title"},this.props.graph.title," - Nimp"),x("meta",{key:"og:title",property:"og:title",content:this.props.graph.title+" - Nimp"})),this.props.graph&&x(h.a,{user:this.props.user,graphToLoad:this.props.graph}))}}],[{key:"getInitialProps",value:function(){var e=Object(a.a)(r.a.mark((function e(s){var n,a,o,c,i,u,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.req,a=s.res,o=s.query,c=n&&n.session&&n.session.user?n.session.user:null,i=null,!o.graphId){e.next=30;break}return u={graphId:o.graphId,userId:null},c&&(u.userId=c._id),e.next=8,fetch(t.env.API_URL+"/api/graph",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(u)});case 8:if(200!=(p=e.sent).status){e.next=15;break}return e.next=12,p.json();case 12:i=e.sent,e.next=30;break;case 15:if(404!=p.status){e.next=21;break}return a.statusCode=404,a.end("Graph not found with this id."),e.abrupt("return");case 21:if(401!=p.status){e.next=27;break}return a.statusCode=401,a.end("Graph is private."),e.abrupt("return");case 27:return a.statusCode=500,a.end("Invalid graph id."),e.abrupt("return");case 30:return e.abrupt("return",{user:c,graph:i});case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(f.a.Component)}.call(this,s("8oxB"))},Tizm:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/json/[graphId]",function(){return s("IJQT")}])},ZMfO:function(t,e,s){"use strict";s.d(e,"a",(function(){return m}));var n=s("1OyB"),r=s("vuIU"),a=s("Ji7U"),o=s("md7G"),c=s("foSv"),i=s("MX0m"),u=s.n(i),p=s("q1tI"),l=s.n(p),f=s("nsYN"),h=(s("8Kt/"),l.a.createElement);function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,n=Object(c.a)(t);if(e){var r=Object(c.a)(this).constructor;s=Reflect.construct(n,arguments,r)}else s=n.apply(this,arguments);return Object(o.a)(this,s)}}var m=function(t){Object(a.a)(s,t);var e=g(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return h("div",{className:"jsx-3115499076"},h("div",{id:"mainContainer",className:"jsx-3115499076"},h(f.a,{user:this.props.user}),h("div",{id:"cont",className:"jsx-3115499076"},h("a",{href:"/g/"+this.props.graphToLoad._id+"/"+this.props.graphToLoad.slug,className:"jsx-3115499076"},h("button",{className:"jsx-3115499076"},"Back to Graph")),h("br",{className:"jsx-3115499076"}),h("br",{className:"jsx-3115499076"}),h("pre",{className:"jsx-3115499076"},JSON.stringify(this.props.graphToLoad.graph,null,2)))),h(u.a,{id:"3115499076"},["#cont.jsx-3115499076{padding:20px;}"]))}}]),s}(l.a.Component)},nsYN:function(t,e,s){"use strict";s.d(e,"a",(function(){return g}));var n=s("1OyB"),r=s("vuIU"),a=s("Ji7U"),o=s("md7G"),c=s("foSv"),i=s("MX0m"),u=s.n(i),p=s("q1tI"),l=s.n(p),f=l.a.createElement;function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,n=Object(c.a)(t);if(e){var r=Object(c.a)(this).constructor;s=Reflect.construct(n,arguments,r)}else s=n.apply(this,arguments);return Object(o.a)(this,s)}}var g=function(t){Object(a.a)(s,t);var e=h(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return f("div",{id:"topContainer",className:"jsx-3421337869"},f("div",{className:"jsx-3421337869"},f("a",{href:"/",className:"jsx-3421337869"},"Nimp ",f("span",{style:{color:"hsl(0, 0%, 60%)"},className:"jsx-3421337869"}," \xa0 (Node Based Image Manipulation Program)"))),f("div",{style:{textAlign:"right"},className:"jsx-3421337869"},f("a",{href:"https://www.patreon.com/dan335",className:"jsx-3421337869 topLink"},f("img",{src:"/static/patreonIcon.png",srcSet:"/static/patreonIcon.png 1x, /static/patreonIcon_highres.png 2x",className:"jsx-3421337869"})),f("a",{href:"https://github.com/dan335/nimp",className:"jsx-3421337869 topLink"},f("img",{src:"/static/githubLogo.png",srcSet:"/static/githubLogo.png 1x, /static/githubLogo_highres.png 2x",className:"jsx-3421337869"})),f("a",{href:"https://trello.com/b/s5yHz4z5/nimp",className:"jsx-3421337869 topLink"},f("img",{src:"/static/trelloIcon.png",srcSet:"/static/trelloIcon.png 1x, /static/trelloIcon_highres.png 2x",className:"jsx-3421337869"})),f("a",{href:"https://discord.gg/vgwW6WX",className:"jsx-3421337869 topLink"},f("img",{src:"/static/discordIcon.png",srcSet:"/static/discordIcon.png 1x, /static/discordIcon_highres.png 2x",className:"jsx-3421337869"})),f("a",{href:"https://twitter.com/dan335",className:"jsx-3421337869 topLink"},f("img",{src:"/static/twitterIcon.png",srcSet:"/static/twitterIcon.png 1x, /static/twitterIcon_highres.png 2x",className:"jsx-3421337869"})),f("a",{href:"mailto:dan@nimp.app",className:"jsx-3421337869 topLink"},f("img",{src:"/static/emailIcon.png",srcSet:"/static/emailIcon.png 1x, /static/emailIcon_highres.png 2x",className:"jsx-3421337869"})),f("a",{href:"/graphs",className:"jsx-3421337869 topButton"},f("button",{className:"jsx-3421337869"},"Public Graphs")),this.props.user&&f("span",{className:"jsx-3421337869"},f("a",{href:"/u/"+this.props.user._id,className:"jsx-3421337869 topButton"},f("button",{className:"jsx-3421337869"},this.props.user.username)),f("a",{href:"/logout",className:"jsx-3421337869"},f("button",{className:"jsx-3421337869"},"Logout"))),!this.props.user&&f("span",{className:"jsx-3421337869"},f("a",{href:"/login",className:"jsx-3421337869 topButton"},f("button",{className:"jsx-3421337869"},"Login")),f("a",{href:"/createaccount",className:"jsx-3421337869"},f("button",{className:"jsx-3421337869"},"Create Account")))),f(u.a,{id:"3421337869"},["#topContainer.jsx-3421337869{line-height:36px;padding:0 10px;background-color:hsl(209,10%,25%);display:grid;grid-template-columns:1fr 1fr;}","#topContainer.jsx-3421337869 a.jsx-3421337869{color:#fff;}","#topContainer.jsx-3421337869 img.jsx-3421337869{vertical-align:text-bottom;height:20px;}","#topContainer.jsx-3421337869 img.jsx-3421337869:hover{-webkit-filter:opacity(50%);filter:opacity(50%);}",".topLink.jsx-3421337869{margin-right:15px;}",".topButton.jsx-3421337869{margin-right:2px;}"]))}}]),s}(l.a.Component)}},[["Tizm",0,2,1,3]]]);