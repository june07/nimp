(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[5],{"+QRC":function(e,t,s){"use strict";var i=s("E9nw"),n={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var s,o,a,r,h,u,c=!1;t||(t={}),s=t.debug||!1;try{if(a=i(),r=document.createRange(),h=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(i){if(i.stopPropagation(),t.format)if(i.preventDefault(),"undefined"===typeof i.clipboardData){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=n[t.format]||n.default;window.clipboardData.setData(o,e)}else i.clipboardData.clearData(),i.clipboardData.setData(t.format,e);t.onCopy&&(i.preventDefault(),t.onCopy(i.clipboardData))})),document.body.appendChild(u),r.selectNodeContents(u),h.addRange(r),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(p){s&&console.error("unable to copy using execCommand: ",p),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(p){s&&console.error("unable to copy using clipboardData: ",p),s&&console.error("falling back to prompt"),o=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{h&&("function"==typeof h.removeRange?h.removeRange(r):h.removeAllRanges()),u&&document.body.removeChild(u),a()}return c}},E9nw:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,s=[],i=0;i<e.rangeCount;i++)s.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||s.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},jigu:function(e,t,s){"use strict";s.d(t,"a",(function(){return P}));var i=s("1OyB"),n=s("vuIU"),o=s("JX7q"),a=s("Ji7U"),r=s("md7G"),h=s("foSv"),u=s("MX0m"),c=s.n(u),p=s("q1tI"),l=s.n(p),d=s("oyjb"),g=s("KsUC"),v=s("7yGV"),m=s.n(v),f=s("Gppw"),y=function(){function e(t,s){Object(i.a)(this,e),this.id=(new f).toHexString(),this.svg=t,this.component=s,this.nodes=[],this.selectedNode=null,this.viewedNode=null,this.title="New Graph",this.isPublic=!0,this.anyoneCanOverwrite=!1,this.userId=null,this.url=null,this.slug=null;var n=document.getElementById("graphTitleInput");n&&(n.value=this.title)}return Object(n.a)(e,[{key:"createNode",value:function(e,t,s,i,n,o){var a=new t(e,this,s,i,n);return this.nodes.push(a),o&&a.run(null),a}},{key:"deleteNode",value:function(e){this.nodes=this.nodes.filter((function(t){return t!=e})),e.delete()}},{key:"selectNode",value:function(e){this.selectedNode&&this.selectedNode.deselect(),this.selectedNode=e,e.select()}},{key:"viewNode",value:function(e){this.viewedNode&&this.viewedNode.deView(),this.viewedNode=e,e.view()}},{key:"toJson",value:function(){var e={id:this.id,title:this.title,nodes:[]};return this.nodes.forEach((function(t){e.nodes.push(t.toJson())})),e}},{key:"fromJson",value:function(e){var t=this;this.id=e.id,this.title=e.title,e.nodes.forEach((function(e){var s=d.a.getClassFromName(e.className);if(s){var i=t.createNode(e.className,s,e.x,e.y,e.settings,!1);i.id=e.id;for(var n=0;n<i.inputs.length;n++)e.inputs[n]?i.inputs[n].id=e.inputs[n].id:console.error("Load error: Could not get input.");for(var o=0;o<i.outputs.length;o++)e.outputs[o]?i.outputs[o].id=e.outputs[o].id:console.error("Load error: Could not get output.  Probably an old graph.",i.outputs[o],e);i.tempJson=e}else console.error("Could not find class",e.className)})),this.nodes.forEach((function(e){for(var s=function(s){e.tempJson.outputs[s]&&e.tempJson.outputs[s].connections.forEach((function(i){var n=null;t.nodes.forEach((function(e){e.inputs.forEach((function(e){e.id==i&&(n=e)}))})),n?e.outputs[s].makeConnection(n):console.error("Load error: Could not find input with id.")}))},i=0;i<e.outputs.length;i++)s(i)}));var s=[];this.nodes.forEach((function(e){var t=!0;e.inputs.forEach((function(e){e.parent&&(t=!1)})),t&&s.push(e)})),s.forEach((function(e){e.run()}));var i=this.getOutputNode();i&&this.viewNode(i)}},{key:"getThumbnail",value:function(){var e=this;return new Promise((function(t,s){var i=e.getOutputNode();i&&i.image?i.image.clone().cover(g.a.thumbnailWidth,g.a.thumbnailHeight,(function(e,s){e?t(null):s.getBufferAsync(m.a.MIME_JPEG).then((function(e){t("data:"+m.a.MIME_JPEG+";base64,"+e.toString("base64"))}))})):t(null)}))}},{key:"getOutputNode",value:function(){for(var e=0;e<this.nodes.length;e++)if("Output"==this.nodes[e].className)return this.nodes[e];return null}}]),e}(),x=s("o0o1"),w=s.n(x),b=s("HaE+"),N=s("+QRC"),C=s.n(N),k=s("vcXL"),j=s.n(k),B=l.a.createElement;function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,i=Object(h.a)(e);if(t){var n=Object(h.a)(this).constructor;s=Reflect.construct(i,arguments,n)}else s=i.apply(this,arguments);return Object(r.a)(this,s)}}s("Gppw");var S=function(e){Object(a.a)(s,e);var t=O(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={isPublic:!e.graph||e.graph.isPublic,anyoneCanOverwrite:!!e.graph&&e.graph.anyoneCanOverwrite,errorMsg:null},e.indexComponent.graphProperties=Object(o.a)(n),n.changeTitle=n.changeTitle.bind(Object(o.a)(n)),n.copyUrl=n.copyUrl.bind(Object(o.a)(n)),n.publicChange=n.publicChange.bind(Object(o.a)(n)),n.overwriteChange=n.overwriteChange.bind(Object(o.a)(n)),n.clickDelete=n.clickDelete.bind(Object(o.a)(n)),n}return Object(n.a)(s,[{key:"changeTitle",value:function(e){var t=document.getElementById("graphTitleInput");this.props.graph.title=t.value}},{key:"saveGraph",value:function(){var e=Object(b.a)(w.a.mark((function e(t){var s,i,n=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({errorMsg:null}),this.props.graph){e.next=3;break}return e.abrupt("return");case 3:return s=this.props.graph.toJson(),e.next=6,this.props.graph.getThumbnail();case 6:i=e.sent,j()("/api/savegraph",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({graph:s,isPublic:this.props.graph.isPublic,anyoneCanOverwrite:this.props.graph.anyoneCanOverwrite,thumbnail:i})}).then((function(e){200==e.status?e.json().then((function(e){var t="/g/"+e._id+"/"+e.slug;n.props.graph.url=t,n.props.graph.slug=e.slug,n.props.graph.userId=e.userId,window.history.pushState("","",t),n.props.graph.component.setState({propertiesKey:Math.random()}),n.setSavedConfirmation()})):e.text().then((function(e){n.setState({errorMsg:e})}))}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveGraphCopy",value:function(){var e=Object(b.a)(w.a.mark((function e(t){var s,i,n=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({errorMsg:null}),this.props.graph){e.next=3;break}return e.abrupt("return");case 3:return s=this.props.graph.toJson(),e.next=6,this.props.graph.getThumbnail();case 6:i=e.sent,j()("/api/copygraph",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({graph:s,isPublic:this.props.graph.isPublic,anyoneCanOverwrite:this.props.graph.anyoneCanOverwrite,thumbnail:i})}).then((function(e){200==e.status?e.json().then((function(e){var t="/g/"+e._id+"/"+e.slug;window.location.assign(t)})):e.text().then((function(e){n.setState({errorMsg:e})}))}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setSavedConfirmation",value:function(){var e=document.getElementById("saveResult");e&&(e.innerHTML="Saved",setTimeout((function(){e.innerHTML=""}),1500))}},{key:"copyUrl",value:function(e){C()("https://nimp.app"+this.props.graph.url);var t=document.getElementById("copyUrlButton");t&&(t.innerHTML="copied")}},{key:"publicChange",value:function(e){var t=document.getElementById("publicCheckbox");this.props.graph.isPublic=t.checked,this.setState({isPublic:t.checked})}},{key:"overwriteChange",value:function(e){var t=document.getElementById("canOverwriteCheckbox");this.props.graph.anyoneCanOverwrite=t.checked,this.setState({anyoneCanOverwrite:t.checked})}},{key:"renderSaveOptions",value:function(){var e=this,t=!1,s=!1,i=!1,n=!0;return this.props.user&&this.props.graph&&(null==this.props.graph.userId?(t=!0,i=!0,n=!1):(s=!0,n=!1,this.props.graph.userId==this.props.user._id?(t=!0,s=!0,i=!0):this.props.anyoneCanOverwrite?(t=!0,s=!0):s=!0)),B("div",{className:"jsx-1835117701"},this.state.errorMsg&&B("div",{className:"jsx-1835117701"},B("div",{className:"jsx-1835117701 errorContainer"},this.state.errorMsg),B("br",{className:"jsx-1835117701"})),i&&B("div",{className:"jsx-1835117701"},B("label",{className:"jsx-1835117701"},"Name"),B("input",{id:"graphTitleInput",onChange:function(t){e.changeTitle(t)},type:"text",defaultValue:this.props.graph?this.props.graph.title:"",style:{width:"100%"},className:"jsx-1835117701"}),B("br",{className:"jsx-1835117701"}),B("input",{type:"checkbox",id:"publicCheckbox",onChange:function(t){e.publicChange(t)},defaultChecked:this.state.isPublic,className:"jsx-1835117701"})," Anyone can view.",B("br",{className:"jsx-1835117701"}),this.state.isPublic&&B("div",{className:"jsx-1835117701"},B("input",{type:"checkbox",id:"canOverwriteCheckbox",onChange:function(t){e.overwriteChange(t)},defaultChecked:this.state.anyoneCanOverwrite,className:"jsx-1835117701"})," Anyone can save.")),!i&&this.graph&&B("div",{className:"jsx-1835117701"},this.props.graph.title),t&&B("button",{onClick:function(t){e.saveGraph()},className:"jsx-1835117701 fullWidth"},"Save Graph"),s&&B("button",{onClick:function(t){e.saveGraphCopy()},className:"jsx-1835117701 fullWidth"},"Make Copy"),B("div",{id:"saveResult",className:"jsx-1835117701"}),n&&this.props.graph&&B("div",{className:"jsx-1835117701"},this.props.graph.title,B("br",{className:"jsx-1835117701"}),"by ",this.props.graph.username,B("br",{className:"jsx-1835117701"}),B("br",{className:"jsx-1835117701"}),"Login to save a copy of this graph."),B(c.a,{id:"1835117701"},["input.jsx-1835117701{margin-bottom:8px;}","#saveResult.jsx-1835117701{text-align:center;padding:10px;}"]))}},{key:"clickDelete",value:function(){j()("/api/deletegraph",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({graphId:this.props.graph.id})}).then((function(e){200==e.status&&(window.location.href="/")}))}},{key:"render",value:function(){var e=!1;return this.props.graph&&this.props.user&&this.props.user._id==this.props.graph.userId&&(e=!0),B("div",{className:"jsx-4134052550"},B("div",{className:"jsx-4134052550 propertiesTitle"},"Graph"),B("div",{style:{padding:"10px"},className:"jsx-4134052550"},this.renderSaveOptions(),B("br",{className:"jsx-4134052550"}),B("br",{className:"jsx-4134052550"}),this.state.graphUrl&&B("div",{className:"jsx-4134052550"},B("label",{className:"jsx-4134052550"},"Graph URL \xa0 ",B("button",{id:"copyUrlButton",onClick:this.copyUrl,className:"jsx-4134052550"},"copy")),B("div",{id:"urlCont",className:"jsx-4134052550"},"https://nimp.app",this.state.graphUrl)),e&&B("button",{onClick:this.clickDelete,className:"jsx-4134052550 fullWidth"},"Delete Graph"),this.props.isSaved&&this.props.graph&&B("a",{href:"/json/"+this.props.graph.id+"/"+this.props.graph.slug,className:"jsx-4134052550"},B("button",{className:"jsx-4134052550 fullWidth"},"View Saved Data"))),B(c.a,{id:"4134052550"},["label.jsx-4134052550{display:block;margin-bottom:5px;}","#urlCont.jsx-4134052550{border:1px solid hsl(209,10%,30%);background-color :hsl(209,10%,20%);border-radius:3px;padding:10px 5px;overflow-wrap:break-word;}"]))}}]),s}(l.a.Component),L=s("nsYN"),E=(s("8Kt/"),l.a.createElement);function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,i=Object(h.a)(e);if(t){var n=Object(h.a)(this).constructor;s=Reflect.construct(i,arguments,n)}else s=i.apply(this,arguments);return Object(r.a)(this,s)}}var P=function(e){Object(a.a)(s,e);var t=M(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).state={properties:null,propertiesKey:Math.random(),category:"Image"},n.mouseState=null,n.svgPointerDownTime=0,n.svgPointerOrigin={x:0,y:0},n.svgZoom=1,n.svgLastMousePos={x:0,y:0},n.startDraggingNewNode=n.startDraggingNewNode.bind(Object(o.a)(n)),n.createNewNode=n.createNewNode.bind(Object(o.a)(n)),n.graphProperties=null,n}return Object(n.a)(s,[{key:"componentDidMount",value:function(){this.svg=document.getElementById("svg"),this.svgViewBox={x:0,y:0,width:this.svg.clientWidth,height:this.svg.clientHeight},this.svgNewViewBox={x:0,y:0},this.svgRatio=this.svgViewBox.width/this.svg.getBoundingClientRect().width;var e="".concat(this.svgNewViewBox.x," ").concat(this.svgNewViewBox.y," ").concat(this.svgViewBox.width," ").concat(this.svgViewBox.height);this.svg.setAttribute("viewBox",e),window.addEventListener("resize",this.resize.bind(this)),this.resize(),this.graph=new y(this.svg,this),this.props.graphToLoad&&(this.graph.fromJson(this.props.graphToLoad.graph),this.graph.title=this.props.graphToLoad.title,this.graph.slug=this.props.graphToLoad.slug,this.graph.url=this.props.graphToLoad.url,this.graph.userId=this.props.graphToLoad.userId,this.graph.username=this.props.graphToLoad.username,this.graph.isPublic=this.props.graphToLoad.isPublic,this.graph.anyoneCanOverwrite=this.props.graphToLoad.anyoneCanOverwrite,this.setState({propertiesKey:Math.random()})),window.PointerEvent?(this.svg.addEventListener("pointerdown",this.svgOnMouseDown.bind(this)),this.svg.addEventListener("pointerup",this.svgOnMouseUp.bind(this)),this.svg.addEventListener("pointerleave",this.svgOnMouseLeave.bind(this)),this.svg.addEventListener("pointermove",this.svgOnMouseMove.bind(this))):(this.svg.addEventListener("mousedown",this.svgOnMouseDown.bind(this)),this.svg.addEventListener("mouseup",this.svgOnMouseUp.bind(this)),this.svg.addEventListener("mouseleave",this.svgOnMouseLeave.bind(this)),this.svg.addEventListener("mousemove",this.svgOnMouseMove.bind(this)),this.svg.addEventListener("touchstart",this.svgOnMouseDown.bind(this)),this.svg.addEventListener("touchend",this.svgOnMouseUp.bind(this)),this.svg.addEventListener("touchmove",this.svgOnMouseMove.bind(this))),this.svg.addEventListener("wheel",this.svgOnWheel.bind(this)),this.svg.addEventListener("contextmenu",this.onContextMenu.bind(this)),fetch("/api/viewgraph",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({graphId:this.graph.id})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize.bind(this))}},{key:"resize",value:function(){var e=document.getElementById("mainContainer");e&&(e.style.height=window.innerHeight+"px"),(e=document.getElementById("midLeftNodes"))&&(e.style.maxHeight=window.innerHeight-36+"px"),(e=document.getElementById("midLeftCategories"))&&(e.style.maxHeight=window.innerHeight-36+"px"),(e=document.getElementById("midRightContainer"))&&(e.style.maxHeight=window.innerHeight-36+"px")}},{key:"svgOnWheel",value:function(e){var t=Math.sign(e.deltaY);this.svgViewBox.width*=1+.05*t,this.svgViewBox.height*=1+.05*t,this.svgZoom*=1+.05*t;var s="".concat(this.svgNewViewBox.x," ").concat(this.svgNewViewBox.y," ").concat(this.svgViewBox.width," ").concat(this.svgViewBox.height);this.svg.setAttribute("viewBox",s)}},{key:"onContextMenu",value:function(e){return e.preventDefault(),!1}},{key:"svgOnMouseDown",value:function(e){"svg"==e.target.tagName&&(this.mouseState={type:"draggingGraph",data:this});var t=d.a.getPointFromEvent(e);this.svgPointerOrigin.x=t.x,this.svgPointerOrigin.y=t.y,this.svgPointerDownTime=(new Date).getTime()}},{key:"svgOnMouseUp",value:function(e){e.preventDefault(),this.removeTempLine();var t=!1;if((new Date).getTime()-this.svgPointerDownTime<300){var s=d.a.getPointFromEvent(e),i=this.svgPointerOrigin.x-s.x,n=this.svgPointerOrigin.y-s.y;Math.sqrt(i*i+n*n)<5&&(t=!0)}if(t)e.target.classList.contains("nodeBg")?0==e.button?this.mouseState&&this.mouseState.data&&this.mouseState.data.onClick():2==e.button&&this.mouseState&&this.mouseState.data&&this.graph.deleteNode(this.mouseState.data):this.graph.selectedNode&&this.graph.selectedNode.deselect();else if(this.mouseState)if("draggingNewNode"==this.mouseState.type){var o=d.a.getPointOnSvg(e,this.svg);this.createNewNode(this.mouseState.data.className,this.mouseState.data.classObject,o.x,o.y),t=!1,e.stopPropagation()}else"draggingNode"==this.mouseState.type?(t=!1,e.stopPropagation()):"draggingGraph"==this.mouseState.type?(this.svgViewBox.x=this.svgNewViewBox.x,this.svgViewBox.y=this.svgNewViewBox.y,t=!1,e.stopPropagation()):"draggingNewConnection"==this.mouseState.type&&e.target.classList.contains("nodeConnection")&&this.mouseState.data.from.onMouseUp();this.mouseState=null}},{key:"svgOnMouseLeave",value:function(e){this.mouseState=null,this.svgViewBox.x=this.svgNewViewBox.x,this.svgViewBox.y=this.svgNewViewBox.y,this.removeTempLine()}},{key:"svgOnMouseMove",value:function(e){if(this.mouseState)if("draggingGraph"==this.mouseState.type){e.preventDefault();var t=d.a.getPointFromEvent(e);this.svgNewViewBox.x=this.svgViewBox.x-(t.x-this.svgPointerOrigin.x)*this.svgRatio*this.svgZoom,this.svgNewViewBox.y=this.svgViewBox.y-(t.y-this.svgPointerOrigin.y)*this.svgRatio*this.svgZoom;var s="".concat(this.svgNewViewBox.x," ").concat(this.svgNewViewBox.y," ").concat(this.svgViewBox.width," ").concat(this.svgViewBox.height);this.svg.setAttribute("viewBox",s)}else if("draggingNode"==this.mouseState.type){var i=d.a.getPointFromEvent(e),n={x:(i.x-this.svgLastMousePos.x)*this.svgZoom,y:(i.y-this.svgLastMousePos.y)*this.svgZoom};this.mouseState.data.g.setAttributeNS(null,"transform","translate("+(this.mouseState.data.x+n.x)+" "+(this.mouseState.data.y+n.y)+")"),this.mouseState.data.x+=n.x,this.mouseState.data.y+=n.y,this.svgLastMousePos=i,this.mouseState.data.outputs.forEach((function(e){e.removeConnectionSplines(),e.createConnectionSplines()})),this.mouseState.data.inputs.forEach((function(e){e.parent&&(e.parent.removeConnectionSplines(),e.parent.createConnectionSplines())}))}else if("draggingNewConnection"==this.mouseState.type){this.removeTempLine();var o=d.a.getPointOnSvg(e,this.svg);this.drawTempLineFromConnectionToMouse(this.mouseState.data.from,o)}}},{key:"drawTempLineFromConnectionToMouse",value:function(e,t){var s=e.getPosition();this.tempLine=document.createElementNS("http://www.w3.org/2000/svg","path");var i="M"+s.x+","+s.y;e.isInput?(i+=" C"+(s.x-100)+","+s.y,i+=" "+(t.x+100)+","+t.y):(i+=" C"+(s.x+100)+","+s.y,i+=" "+(t.x-100)+","+t.y),i+=" "+t.x+","+t.y,this.tempLine.setAttributeNS(null,"d",i),this.tempLine.classList.add("nodeConnectionSpline"),this.graph.svg.prepend(this.tempLine)}},{key:"removeTempLine",value:function(){this.tempLine&&(this.tempLine.parentNode.removeChild(this.tempLine),this.tempLine=null)}},{key:"renderCategoryButtons",value:function(){var e=this;return g.a.nodes.map((function(t){return e.renderCategoryButton(t)}))}},{key:"renderCategoryButton",value:function(e){var t=this;return E("div",{key:e.title,className:"nodeButton "+(e.title==this.state.category?"active":""),onClick:function(){t.setState({category:e.title})}},e.title)}},{key:"renderNodeButtons",value:function(){var e=this,t=g.a.nodes.find((function(t){return t.title==e.state.category}));if(t)return t.nodes.map((function(t){return e.renderNodeButton(t)}))}},{key:"renderNodeButton",value:function(e){var t=this;return E("div",{key:e.title,className:"nodeButtonContainer"},E("div",{className:"nodeButton",onMouseEnter:function(e){e.target.nextSibling.classList.add("show")},onMouseLeave:function(){event.target.nextSibling.classList.remove("show")},onMouseDown:function(){t.startDraggingNewNode(e)}},e.title),E("div",{className:"nodeButtonDrag"},"drag >>"))}},{key:"startDraggingNewNode",value:function(e){this.mouseState={type:"draggingNewNode",data:e}}},{key:"createNewNode",value:function(e,t,s,i){var n=this.graph.createNode(e,t,s,i,{},!0);this.graph.selectNode(n)}},{key:"renderGraphProperties",value:function(){var e=!1;if(this.props.graphToLoad&&(e=!0),!this.state.properties)return E(S,{user:this.props.user,graph:this.graph,key:this.state.propertiesKey,indexComponent:this,isSaved:e})}},{key:"renderProperties",value:function(){if(this.state.properties&&this.state.propertiesKey){var e=this.state.properties.component;return E(e,{node:this.state.properties.node,key:this.state.propertiesKey})}return null}},{key:"render",value:function(){return E("div",{className:"jsx-1852430619"},E("div",{id:"mainContainer",className:"jsx-1852430619"},E(L.a,{user:this.props.user}),E("div",{id:"midContainer",className:"jsx-1852430619"},E("div",{id:"midLeftContainer",className:"jsx-1852430619"},E("div",{id:"midLeftCategories",className:"jsx-1852430619"},E("div",{className:"jsx-1852430619 nodeButtonHeader"},"Categories"),this.renderCategoryButtons()),E("div",{id:"midLeftNodes",className:"jsx-1852430619"},E("div",{className:"jsx-1852430619 nodeButtonHeader"},this.state.category," Nodes"),this.renderNodeButtons())),E("div",{id:"innerMidContainer",className:"jsx-1852430619"},E("div",{id:"svgContainer",className:"jsx-1852430619"},E("svg",{id:"svg",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:"jsx-1852430619"},E("defs",{className:"jsx-1852430619"},E("pattern",{id:"grid",width:"80",height:"80",patternUnits:"userSpaceOnUse",className:"jsx-1852430619"},E("path",{d:"M 80 0 L 0 0 0 80",fill:"none",stroke:"hsl(209, 10%, 30%)",strokeWidth:"1",className:"jsx-1852430619"}))),E("rect",{width:"5000",height:"5000",fill:"url(#grid)",x:"-2500",y:"-2500",pointerEvents:"none",className:"jsx-1852430619"})),E("div",{id:"svgHelpText",className:"jsx-1852430619"},"Click: Select \xa0\xa0 Double Click: Select and View \xa0\xa0 Right Click: Delete")),E("div",{id:"viewContainer",className:"jsx-1852430619"},E("img",{id:"nodeViewImage",style:{maxHeight:"100%",maxWidth:"100%",display:"block"},className:"jsx-1852430619"}))),E("div",{id:"midRightContainer",className:"jsx-1852430619"},this.renderGraphProperties(),this.renderProperties()))),E(c.a,{id:"1852430619"},["#mainContainer{display:grid;grid-template-rows:36px auto;}","#midLeftContainer{display:grid;grid-template-columns:1fr 1fr;border-right:2px solid #000;grid-column-gap:2px;}","#midRightContainer{border-left:2px solid #000;overflow-y:auto;overflow-x:hidden;}","#midContainer{display:grid;grid-template-columns:230px auto 260px;}",'#viewContainer{background-color:hsl(209,10%,8%);background-image:url("/static/viewportBg.jpg");border-top:2px solid #000;}',"#innerMidContainer{display:grid;grid-template-rows:60% 40%;}","#svgContainer{background-color:hsl(209,10%,10%);position:relative;}","#svgHelpText{position:absolute;right:10px;bottom:10px;color:hsl(209,10%,60%);font-size:80%;}","#svg{width:100%;height:100%;}",".nodeButtonHeader{padding:6px 8px;background-color:hsl(209,10%,5%);color:hsl(209,10%,60%);margin-bottom:2px;}",".nodeButtonContainer{position:relative;}",".nodeButton{padding:6px 8px;background-color:hsl(209,10%,30%);margin-bottom:2px;cursor:pointer;}",".nodeButton:hover{background-color:hsl(209,10%,50%);}",".nodeButton.active{background-color:hsl(209,60%,40%);}",".nodeButtonDrag{position:absolute;right:-55px;top:5px;display:none;color:hsl(209,10%,60%);z-index:1;}",".nodeButtonDrag.show{display:block;}",".nodeBg{stroke-linejoin:round;}",".nodeBg.viewed{stroke:hsl(209,10%,90%);stroke-width:3px;stroke-dasharray:5;}",".nodeBg.selected{stroke:hsl(209,10%,90%);stroke-width:3px;}",".nodeBg.selected.viewed{stroke-dasharray:none;}",".nodeBg.running{fill:hsl(0,60%,60%);}",".propertiesTitle{padding:10px;background-color:hsl(209,10%,5%);}",".nodeConnection{fill:hsl(209,10%,60%);stroke:hsl(209,10%,90%);stroke-width:2px;}",".nodeConnectionSpline{stroke:#fff;fill:none;stroke-width:2px;pointer-events:visible;}",".nodeConnection.validConnection{fill:hsl(100,60%,60%);}",".nodeConnection.invalidConnection{fill:hsl(0,60%,60%);}","#midLeftNodes{overflow-y:auto;overflow-x:hidden;}","#midLeftCategories{overflow-y:auto;overflow-x:hidden;}"]))}}]),s}(l.a.Component)}}]);